<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Archimedes (archimedes.Archimedes)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">archimedes</a> &#x00BB; Archimedes</nav><h1>Module <code>Archimedes</code></h1><p>A 2D plotting library with various backends.</p><dl><dt>version</dt><dd>0.4.19</dd></dl><dl><dt>author</dt><dd>Christophe Troestler</dd></dl><dl><dt>author</dt><dd>Pierre Hauweele</dd></dl><dl><dt>author</dt><dd>Fabian Pijcke</dd></dl><dl><dt>author</dt><dd>Noémie Meunier</dd></dl><dl><dt>author</dt><dd>Bertrand Desmons</dd></dl><nav class="toc"><ul><li><a href="#introduction">Introduction</a></li><li><a href="#affine-transformations">Affine transformations</a><ul><li><a href="#initializing-archimedes">Initializing Archimedes</a></li><li><a href="#plotting-various-datatypes">Plotting various datatypes</a></li><li><a href="#plotting-generic-data">Plotting generic data</a></li></ul></li></ul></nav></header><section><header><h3 id="introduction"><a href="#introduction" class="anchor"></a>Introduction</h3><pre><code class="ml">module A = Archimedes
let vp = A.init [&quot;graphic&quot;; &quot;hold&quot;] in
A.Axes.box vp;
A.fx vp sin 0. 10.;
A.close vp</code></pre></header></section><section><header><h3 id="affine-transformations"><a href="#affine-transformations" class="anchor"></a>Affine transformations</h3></header><dl><dt class="spec module" id="module-Matrix"><a href="#module-Matrix" class="anchor"></a><code><span class="keyword">module</span> <a href="Matrix/index.html">Matrix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Module implementing affine transformations and various operations on them.</p></dd></dl><dl><dt class="spec module" id="module-Color"><a href="#module-Color" class="anchor"></a><code><span class="keyword">module</span> <a href="Color/index.html">Color</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Abstract representation of colors (suitable for RGBA).</p></dd></dl><dl><dt class="spec module" id="module-Path"><a href="#module-Path" class="anchor"></a><code><span class="keyword">module</span> <a href="Path/index.html">Path</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Creating abstract paths.</p></dd></dl><dl><dt class="spec module" id="module-Backend"><a href="#module-Backend" class="anchor"></a><code><span class="keyword">module</span> <a href="Backend/index.html">Backend</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Module providing a uniform interface and managing the dynamic loading of the backends. This modules is only useful to create new backends and should not be used for plotting data.</p></dd></dl><dl><dt class="spec module" id="module-Coordinate"><a href="#module-Coordinate" class="anchor"></a><code><span class="keyword">module</span> <a href="Coordinate/index.html">Coordinate</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Systems of coordinates (inhomogeneous homotheties) relative to other coordinate systems with automatic updates. The automatic update refers to the fact that, if a coordinate system is upated, all coordinate systems which depend on it (possibly through several intermediate coordinate systems), they will use the updated version.</p></dd></dl><dl><dt class="spec module" id="module-Viewport"><a href="#module-Viewport" class="anchor"></a><code><span class="keyword">module</span> <a href="Viewport/index.html">Viewport</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Area on which graphs can be made.</p></dd></dl><dl><dt class="spec module" id="module-Sampler"><a href="#module-Sampler" class="anchor"></a><code><span class="keyword">module</span> <a href="Sampler/index.html">Sampler</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Adaptative sampling of functions.</p></dd></dl><dl><dt class="spec module" id="module-Marker"><a href="#module-Marker" class="anchor"></a><code><span class="keyword">module</span> <a href="Marker/index.html">Marker</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Module handling point styles and marks.</p></dd></dl><dl><dt class="spec module" id="module-Arrows"><a href="#module-Arrows" class="anchor"></a><code><span class="keyword">module</span> <a href="Arrows/index.html">Arrows</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Arrow styles</p></dd></dl><dl><dt class="spec module" id="module-Tics"><a href="#module-Tics" class="anchor"></a><code><span class="keyword">module</span> <a href="Tics/index.html">Tics</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Tics position and labels.</p></dd></dl><dl><dt class="spec module" id="module-Axes"><a href="#module-Axes" class="anchor"></a><code><span class="keyword">module</span> <a href="Axes/index.html">Axes</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Routines to draw basic axes systems in a 2-dimensional space. One can either draw axes separately using add_(x|y)_axis or use a full default axes system with box or cross.</p></dd></dl><section><header><h4 id="initializing-archimedes"><a href="#initializing-archimedes" class="anchor"></a>Initializing Archimedes</h4></header><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : ?&#8288;lines:float <span>&#45;&gt;</span> ?&#8288;text:float <span>&#45;&gt;</span> ?&#8288;marks:float <span>&#45;&gt;</span> ?&#8288;bg:<a href="Color/index.html#type-t">Color.t</a> <span>&#45;&gt;</span> ?&#8288;w:float <span>&#45;&gt;</span> ?&#8288;h:float <span>&#45;&gt;</span> ?&#8288;dirs:string list <span>&#45;&gt;</span> string list <span>&#45;&gt;</span> <a href="Viewport/index.html#type-t">Viewport.t</a></code></dt><dd><p><code>init backend</code> initializes Archimedes and returns the main viewport using the backend specified. The first element of <code>backend</code> is the name (case insensitive) of the underlying engine. It may be followed by one or several options.</p><ul><li>For the Graphics backend, <code>&quot;hold&quot;</code> will display the graphics window until you press a key. <code>[&quot;BMP&quot;; filename]</code> will save a copy of the display as a Windows Bitmap image file named <code>filename</code>.</li></ul><ul><li>For the Cairo backend, <code>&quot;Cairo&quot;; &quot;PNG&quot;; filename</code> uses a PNG surface to be saved to <code>filename</code>. You can replace &quot;PNG&quot; with &quot;PDF&quot;, &quot;PS&quot; and &quot;SVG&quot;.</li></ul><p>The empty list selects <code>&quot;Graphics&quot;; &quot;hold&quot;</code>.</p><dl><dt>parameter w</dt><dd><p>the width of the main viewport (in backend's unit).</p></dd></dl><dl><dt>parameter h</dt><dd><p>the height of the main viewport (in backend's unit).</p></dd></dl><dl><dt>parameter bg</dt><dd><p>the color of the background. Default: <a href="Color/index.html#val-white"><code>Color.white</code></a>.</p></dd></dl><dl><dt>parameter lines</dt><dd><p>the width of the lines. Default: <code>1.</code> which corresponds to a line width on the backend of <code>min w h /. 500.</code>.</p></dd></dl><dl><dt>parameter text</dt><dd><p>the size of the text. Default: <code>12.</code> which corresponds to puting about 42 lines of text in <code>min w h</code> height.</p></dd></dl><dl><dt>parameter marks</dt><dd><p>the size of the marks. Default: <code>7.</code> which corresponds packing about 100 marks in <code>min w h</code>.</p></dd></dl><dl><dt>parameter dirs</dt><dd><p>a list of directories where Archimedes looks for libraries (cma or cmxs) for dynamically loaded backends. The default is the directory where the backends that come with Archimedes were installed.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-backend_of_filename"><a href="#val-backend_of_filename" class="anchor"></a><code><span class="keyword">val</span> backend_of_filename : string <span>&#45;&gt;</span> string list</code></dt><dd><p>Selects a backend according to the filename suffix. If the suffix is not matched (this in particular for <code>&quot;&quot;</code>), the graphics backend is selected.</p></dd></dl><dl><dt class="spec value" id="val-show"><a href="#val-show" class="anchor"></a><code><span class="keyword">val</span> show : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Alias for <a href="Viewport/index.html#val-show"><code>Viewport.show</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">val</span> close : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_color"><a href="#val-set_color" class="anchor"></a><code><span class="keyword">val</span> set_color : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> <a href="Color/index.html#type-t">Color.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Alias for <a href="Viewport/index.html#val-set_color"><code>Viewport.set_color</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-set_line_width"><a href="#val-set_line_width" class="anchor"></a><code><span class="keyword">val</span> set_line_width : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p>Alias for <a href="Viewport/index.html#val-set_line_width"><code>Viewport.set_line_width</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-xrange"><a href="#val-xrange" class="anchor"></a><code><span class="keyword">val</span> xrange : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p>Alias for <a href="Viewport/index.html#val-xrange"><code>Viewport.xrange</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-yrange"><a href="#val-yrange" class="anchor"></a><code><span class="keyword">val</span> yrange : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p>Alias for <a href="Viewport/index.html#val-yrange"><code>Viewport.yrange</code></a>.</p></dd></dl></section><section><header><h4 id="plotting-various-datatypes"><a href="#plotting-various-datatypes" class="anchor"></a>Plotting various datatypes</h4></header><dl><dt class="spec type" id="type-style"><a href="#type-style" class="anchor"></a><code><span class="keyword">type</span> style</code> = <code>[ </code><table class="variant"><tr id="type-style.Lines" class="anchored"><td class="def constructor"><a href="#type-style.Lines" class="anchor"></a><code>| </code><code>`Lines</code></td></tr><tr id="type-style.Markers" class="anchored"><td class="def constructor"><a href="#type-style.Markers" class="anchor"></a><code>| </code><code>`Markers <span class="keyword">of</span> string</code></td></tr><tr id="type-style.Linesmarkers" class="anchored"><td class="def constructor"><a href="#type-style.Linesmarkers" class="anchor"></a><code>| </code><code>`Linesmarkers <span class="keyword">of</span> string</code></td></tr><tr id="type-style.Impulses" class="anchored"><td class="def constructor"><a href="#type-style.Impulses" class="anchor"></a><code>| </code><code>`Impulses</code></td></tr><tr id="type-style.Bars" class="anchored"><td class="def constructor"><a href="#type-style.Bars" class="anchor"></a><code>| </code><code>`Bars <span class="keyword">of</span> float</code></td></tr><tr id="type-style.HBars" class="anchored"><td class="def constructor"><a href="#type-style.HBars" class="anchor"></a><code>| </code><code>`HBars <span class="keyword">of</span> float</code></td></tr></table><code> ]</code></dt><dd><p>Style of various plots. Plotting functions only support the subset of these style that make sense for them.</p><ul><li><code>`Lines</code> Data points are joined by a simple line.</li><li><code>`Markers</code> Data points are marked with the mark type given in argument of the Points constructor.</li><li><code>`Linesmarkers</code> Data points are joined by a line and marked with the mark type given in argument.</li><li><code>`Impulses</code> Data points are &quot;hit&quot; by lines starting from zero.</li><li><code>`Bars w</code> Data points determine the height of a box of width <code>w</code> which must be given in <code>Data</code> coordinates (from 0 to 1).</li><li><code>`HBars h</code> Data points determine the width of an horizontal box of height <code>h</code> which must be given in <code>Data</code> coordinates (from 0 to 1).</li></ul><p>For the list of default marks for <code>`Markers</code> and <code>`Linesmarkers</code> have a look to <a href="Marker/index.html#val-names"><code>Marker.names</code></a>. You can also define your own with <a href="Marker/index.html#val-add"><code>Marker.add</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-fx"><a href="#val-fx" class="anchor"></a><code><span class="keyword">val</span> fx : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> ?&#8288;tlog:bool <span>&#45;&gt;</span> ?&#8288;fn0:float <span>&#45;&gt;</span> ?&#8288;n:int <span>&#45;&gt;</span> ?&#8288;strategy:<a href="Sampler/index.html#type-strategy">Sampler.strategy</a> <span>&#45;&gt;</span> ?&#8288;cost:<a href="Sampler/index.html#type-cost">Sampler.cost</a> <span>&#45;&gt;</span> ?&#8288;style:[ `Lines | `Linesmarkers of string | `Markers of string ] <span>&#45;&gt;</span> ?&#8288;base:(float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> ?&#8288;fill:bool <span>&#45;&gt;</span> ?&#8288;fillcolor:<a href="Color/index.html#type-t">Color.t</a> <span>&#45;&gt;</span> (float <span>&#45;&gt;</span> float) <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p>Plotting functions.</p><p><code>fx vp f a b</code> draws the graph of the function <code>f</code> on the interval <code>[a, b]</code>.</p><dl><dt>parameter style</dt><dd><p>the style of the plot. Default: <code>`Lines</code>.</p></dd></dl><dl><dt>parameter fill</dt><dd><p>whether to fill the region between the graph of <code>f</code> and the base. Default: <code>false</code>.</p></dd></dl><dl><dt>parameter fillcolor</dt><dd><p>the color for filling. Default: <a href="Color/index.html#val-white_smoke"><code>Color.white_smoke</code></a>.</p></dd></dl><dl><dt>parameter base</dt><dd><p>the second function for delimiting the filling region. Default: the identically zero function.</p></dd></dl><dl><dt>parameter fn0</dt><dd><p>the fraction of the maximum number of function evaluations used to create an initial sampling of the function that will later be refined by the adaptive autosampling. Default: <code>0.1</code>.</p></dd></dl><dl><dt>parameter n</dt><dd><p>the maximum number of function evaluations. Default: <code>100</code>.</p></dd></dl><dl><dt>parameter strategy</dt><dd><p>see <a href="Sampler/index.html#type-strategy"><code>Sampler.strategy</code></a>.</p></dd></dl><dl><dt>parameter cost</dt><dd><p>see <a href="Sampler/index.html#type-cost"><code>Sampler.cost</code></a>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-xyf"><a href="#val-xyf" class="anchor"></a><code><span class="keyword">val</span> xyf : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> ?&#8288;tlog:bool <span>&#45;&gt;</span> ?&#8288;fn0:float <span>&#45;&gt;</span> ?&#8288;n:int <span>&#45;&gt;</span> ?&#8288;strategy:<a href="Sampler/index.html#type-strategy">Sampler.strategy</a> <span>&#45;&gt;</span> ?&#8288;cost:<a href="Sampler/index.html#type-cost">Sampler.cost</a> <span>&#45;&gt;</span> ?&#8288;style:[ `Lines | `Linesmarkers of string | `Markers of string ] <span>&#45;&gt;</span> ?&#8288;fill:bool <span>&#45;&gt;</span> ?&#8288;fillcolor:<a href="Color/index.html#type-t">Color.t</a> <span>&#45;&gt;</span> (float <span>&#45;&gt;</span> float * float) <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p><code>xyf vp f a b</code> draws the image of the function <code>f</code> on the interval <code>[a, b]</code>, that is the set of points (x,y) = <code>f</code>(t) for t in <code>[a,b]</code>.</p><p>The optional arguments are the same as for <a href="index.html#val-fx"><code>fx</code></a>.</p></dd></dl><dl><dt class="spec module" id="module-Array"><a href="#module-Array" class="anchor"></a><code><span class="keyword">module</span> <a href="Array/index.html">Array</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Plotting float Arrays.</p></dd></dl><dl><dt class="spec module" id="module-List"><a href="#module-List" class="anchor"></a><code><span class="keyword">module</span> <a href="List/index.html">List</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Plotting Lists of floats.</p></dd></dl><dl><dt class="spec module" id="module-Vec"><a href="#module-Vec" class="anchor"></a><code><span class="keyword">module</span> <a href="Vec/index.html">Vec</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Plotting Fortran bigarrays.</p></dd></dl><dl><dt class="spec module" id="module-CVec"><a href="#module-CVec" class="anchor"></a><code><span class="keyword">module</span> <a href="CVec/index.html">CVec</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Plotting C bigarrays.</p></dd></dl></section><section><header><h4 id="plotting-generic-data"><a href="#plotting-generic-data" class="anchor"></a>Plotting generic data</h4></header><dl><dt class="spec value" id="val-y"><a href="#val-y" class="anchor"></a><code><span class="keyword">val</span> y : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> ?&#8288;base:((float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> ?&#8288;fill:bool <span>&#45;&gt;</span> ?&#8288;fillcolor:<a href="Color/index.html#type-t">Color.t</a> <span>&#45;&gt;</span> ?&#8288;style:<a href="index.html#type-style">style</a> <span>&#45;&gt;</span> ((float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>y vp iter</code> draws on <code>vp</code> the values provided by the iterator <code>iter</code>. See <a href="Array/index.html#val-y"><code>Array.y</code></a> for more information.</p></dd></dl><dl><dt class="spec value" id="val-xy"><a href="#val-xy" class="anchor"></a><code><span class="keyword">val</span> xy : <a href="Viewport/index.html#type-t">Viewport.t</a> <span>&#45;&gt;</span> ?&#8288;fill:bool <span>&#45;&gt;</span> ?&#8288;fillcolor:<a href="Color/index.html#type-t">Color.t</a> <span>&#45;&gt;</span> ?&#8288;style:[ `Lines | `Markers of string | `Linesmarkers of string ] <span>&#45;&gt;</span> ((float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>xy vp iter</code> plots on <code>vp</code> the values provided by the iterator <code>iter</code>. See <a href="Array/index.html#val-xy"><code>Array.xy</code></a> for more information.</p></dd></dl><div class="spec module" id="module-Piechart"><a href="#module-Piechart" class="anchor"></a><code><span class="keyword">module</span> <a href="Piechart/index.html">Piechart</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></section></div></body></html>